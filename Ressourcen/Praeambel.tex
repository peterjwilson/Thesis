\documentclass[%
    fontsize=11pt, % Schriftgröße
    twoside=off % kein einseitiges Layout
]{scrbook} % Dokumentenklasse: KOMA-Script Book
\usepackage{scrlayer-scrpage} % Anpassbare Kopf- und Fußzeilen
%\usepackage[ansinew]{inputenc}
%\usepackage[latin1]{inputenc}
%\usepackage[applemac]{inputenc}
\usepackage[utf8]{inputenc} % Textkodierung: UTF-8
\usepackage[T1]{fontenc} % Zeichensatzkodierung

\def\deutsch{deutsch}
\def\english{english}
\ifx\lan\deutsch 
\usepackage[ngerman]{babel} % Deutsche Lokalisierung
\else
\usepackage[english]{babel} % Englische Lokalisierung
\addto\captionsenglish{\renewcommand*\contentsname{Table of Contents} }
\fi
%\usepackage[ngerman]{babel} % Deutsche Lokalisierung

% Added by peter below 
\usepackage{graphicx}

\usepackage{float} % Get support for floating figures

\usepackage{tikz}

\usetikzlibrary{arrows,decorations.pathmorphing,backgrounds,positioning,fit,matrix}

\usepackage{pgfplots}

\usepackage{lettrine}

\usepackage{tabularx}

\usepackage[export]{adjustbox}

\usepackage{subfig}

\usepackage{varioref} % More descriptive referencing

\usepackage{listings} % Code application environment

\usepackage{multicol}

\usepackage[style=numeric,sortcites=true,block=nbpar,backend=bibtex8]{biblatex} % Get support for the bibliography 

\usepackage{pdfpages}            % Inserting pdf pages


% added by peter above


\usepackage{amsmath}

\usepackage{amsthm}

\usepackage{amssymb}

\usepackage{makeidx}

\usepackage[english]{babel} %Language package

\usepackage{blindtext} %inserting random text

\usepackage{subfig} % Get support for the subfigures

\usepackage{float} % Get support for floating figures

\usepackage{mathrsfs} % Get support for mathematical symbols

\usepackage{graphicx} % Get support for LaTeX graphics

\usepackage{microtype}% Disable ligatures

\DisableLigatures[f]{encoding = *, family = * } % Get support for multiple language packages

\usepackage{mathptmx}

%\usepackage{fancyhdr} ----------------------------------------------

\usepackage{nopageno}

\usepackage{array}

\usepackage{multirow}

%\usepackage{appendix} % Get support for the appendix
\usepackage[titletoc]{appendix}

\usepackage{txfonts} % Get support for times New Roman

%\usepackage[ansinew]{inputenc} 

\usepackage{xcolor} % Get support for coloring parts of the text

\usepackage[autostyle,german=guillemets]{csquotes}

\usepackage[style=numeric,sortcites=true,block=nbpar,backend=bibtex8]{biblatex} % Get support for the bibliography 

%\usepackage[a4paper,vmargin={25mm,30mm},hmargin={30mm,20mm},footnotesep=1cm]{geometry} % Adjust the geometry of the outcome pdf

%\usepackage[a4paper,footnotesep=1cm]{geometry} % Adjust the geometry of the outcome pdf

\usepackage[T1]{fontenc}

\usepackage{lmodern} 

\usepackage{graphicx} % Required for including images
\graphicspath{{images/}} % Set the default folder for images

\usepackage{enumitem} % Required for manipulating the whitespace between and within lists

\usepackage{subfig} % Required for creating figures with multiple parts (subfigures)

\usepackage{amsmath,amssymb,amsthm} % For including math equations, theorems, symbols, etc

\usepackage{varioref} % More descriptive referencing

\usepackage[onehalfspacing]{setspace} 

\usepackage{listings} % Code application environment

\usepackage{multicol}

\usepackage[section]{placeins} % Figures and tables remain in their section

\usepackage{here} 

\usepackage[subfigure]{tocloft}
\usepackage{tocloft}

\usepackage{wrapfig}

\usepackage{notoccite}

\usepackage[ ]{titlesec}  %

\usepackage{titlesec, blindtext, color}

\usepackage{eso-pic}

\usepackage{algorithm}

\usepackage{algpseudocode}

\usepackage{etoolbox}
% --------------------------------------------------
%
%        ORIGINAL PACKAGES BELOW
%
% --------------------------------------------------




\usepackage{graphicx} % Grafiken

% Schriftart Helvetica:
\usepackage[scaled]{helvet}
\renewcommand{\familydefault}{\sfdefault}

% Silbentrennung:
\usepackage{hyphenat}
\hyphenation{TUM in-te-res-siert} % Eigene Silbentrennung
%\tolerance 2414
%\hbadness 2414
%\emergencystretch 1.5em
%\hfuzz 0.3pt
%\widowpenalty=10000     % Hurenkinder
%\clubpenalty=10000      % Schusterjungen
%\vfuzz \hfuzz

%\usepackage[hidelinks]{hyperref} % Hyperlinks
\usepackage[onehalfspacing]{setspace} % 1,5facher Zeilenabstand
\usepackage{calc} % Berechnungen
\usepackage{enumitem} % Mehr Kontrolle über itemize-, enumerate- und description-Umgebungen
\usepackage{relsize} % Schriftgröße in Abhängigkeit von aktueller anpassen
\usepackage{tabularx} % Flexiblere Tabellen
\usepackage{caption} % Anpassen von Beschriftungen

% Nummerierung von Abbildungen & Tabellen durchgängig, statt nach Kapiteln:
\usepackage{chngcntr}
\counterwithout{figure}{chapter}
\counterwithout{table}{chapter}

% Abkürzungen, Glossare:
\usepackage[%
    xindy,% xindy zum Indexieren verwenden
    acronym,% Separates Akronym-Verzeichnis
    nopostdot,% Kein Punkt am Ende einer Beschreibung im Glossar
]{glossaries}

% Spezielle Befehlsdefinitionen:
\newcommand{\Thema}{}

\usepackage[absolute]{textpos} % Positionierung
\usepackage{tabto} % Tabulatoren
%\usepackage{parskip}
\usepackage{pdfpages}            % Inserting pdf pages
\usepackage{amsmath}
\usepackage{amssymb}
%\usepackage{subfigure} ---------- disabled by pw

\let\fref\undefined
\usepackage[plain]{fancyref}
\frefformat{plain}{\fancyrefeqlabelprefix}{Eq. (#1)}	
\frefformat{plain}{\fancyreffiglabelprefix}{Fig.\fancyreftightspacing#1} 
\frefformat{plain}{\fancyrefseclabelprefix}{Section \fancyreftightspacing#1}
\frefformat{plain}{\fancyrefchaplabelprefix}{Chapter \fancyreftightspacing#1}
\newcommand*{\fancyrefapplabelprefix}{app}
\frefformat{plain}{\fancyrefapplabelprefix}{Appendix \fancyreftightspacing#1} 

%Deutscher Text / german text:
\newcommand*{\fancyrefabblabelprefix}{abb}
\frefformat{plain}{\fancyrefabblabelprefix}{Abb. \fancyreftightspacing#1} % figure / Abbildung
\newcommand*{\fancyrefgllabelprefix}{gl}
\frefformat{plain}{\fancyrefgllabelprefix}{Gl. \fancyreftightspacing#1} % equation / Gleichung
\newcommand*{\fancyrefabslabelprefix}{abs}
\frefformat{plain}{\fancyrefabslabelprefix}{Abschnitt \fancyreftightspacing#1} % section / Abschnitt
\newcommand*{\fancyrefanhlabelprefix}{anh}
\frefformat{plain}{\fancyrefanhlabelprefix}{Anhang \fancyreftightspacing#1} % appendix / Anhang
\newcommand*{\fancyrefkaplabelprefix}{kap}
\frefformat{plain}{\fancyrefkaplabelprefix}{Kapitel \fancyreftightspacing#1} % chapter / Kpaitel








% --------------------------------------------------
%
%        PROBABLY NECESSARY PACKAGES BELOW
%
% --------------------------------------------------






% svg figures
\newcommand{\executeiffilenewer}[3]{%
	\ifnum\pdfstrcmp{\pdffilemoddate{#1}}%
	{\pdffilemoddate{#2}}>0%
	{\immediate\write18{#3}}\fi%
}
\newcommand{\includesvg}[1]{%
	\executeiffilenewer{#1.svg}{#1.pdf}%
	{inkscape -z -C --file=#1.svg %
		--export-pdf=#1.pdf --export-latex}%
	\input{#1.pdf_tex}%
}

\newcommand{\includegp}[1]{%
	%\immediate\write18{wgnuplot #1.gp}%
	\executeiffilenewer{#1.plt}{#1.eps}%
	{gnuplot #1.plt}%
	\ifpdf\executeiffilenewer{#1.eps}{#1.pdf}%
	{epstopdf #1.eps}\fi%
	\input{#1.tex}%
}

% Debugging:
%\usepackage{showframe} % Layout-Boxen anzeigen
%\usepackage{layout} % Layout-Informationen
%\usepackage{printlen} % Längenwerte ausgeben

